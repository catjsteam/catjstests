<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>Snapshot Test</title>

    <style>
        #paper {
            border: 1px solid #efefef;
            margin-left: auto;
            margin-right: auto;
            display: block;
        }

    </style>

    <!--
      @[scrap
          @@name catImport
          @@import[
             cat/lib/cat.js
          ]
      ]@
  -->
    
    <script>
        function draw(x, y) {
            var canvas = document.getElementById('paper');
            if (canvas.getContext) {
                var ctx = canvas.getContext('2d');

                y = (y || parseInt(canvas.height / 2));
                x = (x || parseInt(canvas.width / 2));

                ctx.beginPath();
                ctx.arc(x, y, 50, 0, Math.PI * 2, true); // Outer circle
                ctx.stroke();
                ctx.closePath();

                ctx.moveTo(x + 35, y);
                ctx.beginPath();
                ctx.arc(x, y, 35, 0, Math.PI, false);  // Mouth (clockwise)
                ctx.stroke();
                ctx.closePath();

                ctx.moveTo(x - 10, y - 10);
                ctx.beginPath();
                ctx.fillStyle = '#454545';
                ctx.arc(x - 15, y - 10, 5, 0, Math.PI * 2, true);  // Left eye
                ctx.fill();
                ctx.stroke();
                ctx.closePath();

                ctx.moveTo(x + 25, y - 10);
                ctx.beginPath();
                ctx.fillStyle = '#454545';
                ctx.arc(x + 20, y - 10, 5, 0, Math.PI * 2, true);  // Right eye
                ctx.fill();
                ctx.stroke();
                ctx.closePath();



                ctx.beginPath();
                ctx.textBaseline = "top";
                ctx.shadowColor = "#676767";
                ctx.shadowOffsetX = 1;
                ctx.shadowOffsetY = 1;
                ctx.shadowBlur = 5;
                
                ctx.font="12px Arial";
                ctx.fillText("Powered by catjs",x+50 ,y+50);
                ctx.stroke();
                ctx.closePath();

            }
        }

        window.onload = function () {
            draw();
            
            /*
                @[scrap
                    @@name snapshots
                    @@dom snapshot("#paper")
                    @@dom snapshot("body")
                ]@
             */
        }
    </script>

</head>
<body>

<h1>Snapshot Test Application</h1>

<h2>This application has two methods:</h2>
<ul>
    <li><label>Canvas snapshot</label></li>
    <li><label>DOM snapshot (using html2canvas)</label></li>
</ul>

<div>
    <canvas id="paper"></canvas>
</div>
</body>
</html>